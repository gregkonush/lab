apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: harbor
helmCharts:
  - name: harbor
    repo: https://helm.goharbor.io
    version: 1.16.2
    releaseName: harbor
    namespace: harbor
    includeCRDs: true
    valuesInline:
      expose:
        ingress:
          hosts:
            core: xleb.duckdns.org
      externalURL: https://xleb.duckdns.org
      persistence:
        persistentVolumeClaim:
          registry:
            storageClass: longhorn
            size: 10Gi
          jobservice:
            jobLog:
              storageClass: longhorn
              size: 5Gi
          database:
            storageClass: longhorn
            size: 5Gi
          redis:
            storageClass: longhorn
            size: 5Gi
          trivy:
            storageClass: longhorn
            size: 10Gi
