apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Using both namespace field and explicit namespace.yaml resource:
# - namespace field ensures all resources are applied to kitty-krew-dev namespace
# - namespace.yaml resource ensures the namespace exists with proper labels before other resources are created
resources:
  - ../../base
  - namespace.yaml

namespace: kitty-krew-dev

patchesStrategicMerge:
  - configmap.yaml
  - deployment.yaml

images:
  - name: kitty-krew
    newName: ghcr.io/example/kitty-krew
    newTag: dev
