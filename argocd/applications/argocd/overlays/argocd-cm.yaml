apiVersion: v1
kind: ConfigMap
metadata:
  name: argocd-cm
  labels:
    app.kubernetes.io/part-of: argocd
data:
  kustomize.buildOptions: --enable-helm
  application.resourceTrackingMethod: annotation
  timeout.reconciliation: 180s
  dex.config: |
    staticClients:
      - id: argo-workflows-sso
        name: Argo Workflows
        redirectURIs:
          - https://workflows.proompteng.ai/oauth2/callback
        secretEnv: ARGO_WORKFLOWS_SSO_CLIENT_SECRET
    staticPasswords:
      - email: admin@proompteng.ai
        hash: {{ getenv "ARGO_WORKFLOWS_SSO_PASSWORD_HASH" }}
        username: admin
        userID: 86c47abf-4b23-4818-9b4c-76a2d17e7c98
