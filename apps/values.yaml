spec:
  destination:
    server: https://kubernetes.default.svc
  source:
    repoURL: https://github.com/gregkonush/lab
    targetRevision: main
applications:
  - name: gitea
    path: apps/gitea
    namespace: gitea
  - name: ecran
    path: apps/ecran/kustomize
    namespace: ecran
  - name: sealed-secrets
    path: apps/sealed-secrets
  - name: cert-manager
    path: apps/cert-manager
    namespace: cert-manager
  - name: arc
    path: apps/arc
  - name: arc-controller
    namespace: arc-controller
    helm:
      repoURL: ghcr.io
      chart: actions/actions-runner-controller-charts/gha-runner-scale-set-controller
      targetRevision: 0.9.1
  - name: arc-runners
    namespace: arc-runners
    helm:
      repoURL: ghcr.io
      chart: actions/actions-runner-controller-charts/gha-runner-scale-set
      targetRevision: 0.9.1
      valuesObject: |
        githubConfigUrl: https://github.com/gregkonush/lab
        githubConfigSecret: github_token
        controllerServiceAccount:
          name: arc-controller-gha-rs-controller
          namespace: arc-controller
