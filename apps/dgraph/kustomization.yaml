apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: dgraph
helmCharts:
  - name: dgraph
    repo: https://charts.dgraph.io
    version: 24.0.5
    releaseName: dgraph
    namespace: dgraph
    includeCRDs: true
    valuesInline:
      zero:
        persistence:
          enabled: true
          storageClass: longhorn
          size: 20Gi
      alpha:
        persistence:
          enabled: true
          storageClass: longhorn
          size: 10Gi
        ingress:
          enabled: true
          hostname: alpha.dgraph.lan
          ingressClassName: traefik
        ingress_grpc:
          enabled: true
          hostname: alpha-grpc.dgraph.lan
          ingressClassName: traefik
      ratel:
        enabled: true
        ingress:
          enabled: true
          hostname: ratel.dgraph.lan
          ingressClassName: traefik
