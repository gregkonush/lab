# $schema: https://raw.githubusercontent.com/knative/func/d04ff0a3/schema/func_yaml-schema.json
# yaml-language-server: $schema=https://raw.githubusercontent.com/knative/func/d04ff0a3/schema/func_yaml-schema.json
specVersion: 1.17.0
name: froussard
runtime: typescript
registry: registry.ide-newton.ts.net/lab
namespace: froussard
created: 2025-03-30T10:30:06.936905-07:00
build:
  builderImages:
    platforms: linux/arm64
    s2i: registry.ide-newton.ts.net/lab/baozi
  builder: s2i
run:
  envs:
  - name: GITHUB_WEBHOOK_SECRET
    value: '{{ secret:github-secret:webhook-secret }}'
  - name: KAFKA_BROKERS
    value: kafka-kafka-bootstrap.kafka:9092
  - name: KAFKA_TOPIC
    value: github-webhooks
  - name: KAFKA_USERNAME
    value: '{{ secret:froussard-kafka:username }}'
  - name: KAFKA_PASSWORD
    value: '{{ secret:froussard-kafka:password }}'
deploy:
  namespace: froussard
  image: registry.ide-newton.ts.net/lab/froussard@sha256:8f4b5a26e47f7d94c23a915342723a4fcbca2a58716ba8a2fa6943aa1186b960
  options:
    scale:
      min: 1
